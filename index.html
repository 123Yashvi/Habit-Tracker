<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Goal & Habit Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f4f6f8;
      color: #333;
    }
    h1, h2 {
      text-align: center;
    }
    .section {
      background-color: #fff;
      padding: 20px;
      margin-bottom: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .section-goal {
      border-left: 5px solid #00aaff;
    }
    .section-progress {
      border-left: 5px solid #ffa500;
    }
    .section-logs {
      border-left: 5px solid #28a745;
    }
    label {
      display: block;
      margin: 8px 0 5px;
    }
    input, select {
      padding: 5px;
      margin-bottom: 10px;
      width: 100%;
      max-width: 400px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 8px;
      text-align: center;
    }
    .btn {
      padding: 10px 20px;
      margin-top: 10px;
      font-weight: bold;
      cursor: pointer;
    }
    .btn-save {
      background-color: #007bff;
      color: white;
      border: none;
    }
    .btn-progress {
      background-color: #28a745;
      color: white;
      border: none;
    }
    .status-red {
      background-color: #ff4d4d;
      color: white;
    }
    .status-yellow {
      background-color: #ffc107;
    }
    .status-green {
      background-color: #28a745;
      color: white;
    }
  </style>
</head>
<body>
  <h1>ðŸ“Š Goal & Habit Tracker</h1>  <div class="section section-goal">
    <h2>ðŸŽ¯ Add New Goal or Habit</h2>
    <label for="goal">Goal/Habit Name:</label>
    <input type="text" id="goal" /><label for="goalType">Type:</label>
<select id="goalType">
  <option value="numeric">Numeric (e.g., 100 hours)</option>
  <option value="time">Time-Based (e.g., office arrival)</option>
  <option value="yesno">Yes / No (e.g., Did you meditate?)</option>
</select>

<label for="target">Target Amount (if any):</label>
<input type="number" id="target" />

<label for="unit">Target Unit:</label>
<input type="text" id="unit" placeholder="e.g. hrs, km, times" />

<label for="start">Start Date:</label>
<input type="date" id="start" />

<label for="end">Target Completion Date:</label>
<input type="date" id="end" />

<button class="btn btn-save" onclick="saveGoal()">ðŸ’¾ Save Goal</button>

  </div>  <div class="section section-progress">
    <h2>ðŸ“¥ Add Daily Progress</h2>
    <label for="goalSelect">Select Goal:</label>
    <select id="goalSelect"></select><label for="entry">Enter Value / Time / Yes or No:</label>
<input type="text" id="entry" />

<label for="date">Date:</label>
<input type="date" id="date" />

<button class="btn btn-progress" onclick="addProgress()">âœ… Add Progress</button>

  </div>  <div class="section section-logs">
    <h2>ðŸ“‹ All Entries</h2>
    <table id="dataTable">
      <thead>
        <tr>
          <th>Goal Name</th>
          <th>Type</th>
          <th>Value</th>
          <th>Date</th>
          <th>Time</th>
          <th>% Completed</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>  <script>
    let goals = JSON.parse(localStorage.getItem('goals') || '[]');
    let progress = JSON.parse(localStorage.getItem('progress') || '[]');

    function saveGoal() {
      const goal = document.getElementById('goal').value;
      const type = document.getElementById('goalType').value;
      const target = document.getElementById('target').value;
      const unit = document.getElementById('unit').value;
      const start = document.getElementById('start').value;
      const end = document.getElementById('end').value;
      if (!goal) return alert('Please enter a goal');

      goals.push({ goal, type, target, unit, start, end });
      localStorage.setItem('goals', JSON.stringify(goals));
      populateGoals();
    }

    function populateGoals() {
      const dropdown = document.getElementById('goalSelect');
      dropdown.innerHTML = goals.map(
        (g, i) => `<option value="${i}">${g.goal}</option>`
      ).join('');
    }

    function addProgress() {
      const goalIndex = document.getElementById('goalSelect').value;
      const value = document.getElementById('entry').value;
      const date = document.getElementById('date').value;
      const time = new Date().toLocaleTimeString();
      if (!value || !date) return alert('Please enter value and date');

      progress.push({ goalIndex, value, date, time });
      localStorage.setItem('progress', JSON.stringify(progress));
      renderTable();
    }

    function renderTable() {
      const tbody = document.querySelector('#dataTable tbody');
      tbody.innerHTML = '';

      progress.forEach(p => {
        const g = goals[p.goalIndex];
        let percent = 'N/A';
        let statusClass = '';

        if (g.type === 'numeric' && g.target > 0) {
          const total = progress.filter(x => x.goalIndex == p.goalIndex && !isNaN(x.value)).reduce((sum, x) => sum + parseFloat(x.value), 0);
          percent = ((total / g.target) * 100).toFixed(1);
          if (percent < 50) statusClass = 'status-red';
          else if (percent < 80) statusClass = 'status-yellow';
          else statusClass = 'status-green';
        }

        tbody.innerHTML += `
          <tr>
            <td>${g.goal}</td>
            <td>${g.type}</td>
            <td>${p.value}</td>
            <td>${p.date}</td>
            <td>${p.time}</td>
            <td>${percent}%</td>
            <td class="${statusClass}">${percent !== 'N/A' ? (percent < 50 ? 'ðŸ”´' : percent < 80 ? 'ðŸŸ¡' : 'ðŸŸ¢') : 'â€“'}</td>
          </tr>`;
      });
    }

    // Init
    populateGoals();
    renderTable();
  </script></body>
</html>
