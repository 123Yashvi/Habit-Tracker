<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Goal & Habit Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 1rem;
      background-color: #f4f4f4;
    }
    h2 {
      background: #333;
      color: #fff;
      padding: 0.5rem;
      text-align: center;
    }
    section {
      margin-bottom: 2rem;
      border-radius: 10px;
      padding: 1rem;
    }
    #goalForm {
      background: #e6f0ff;
    }
    #progressForm {
      background: #fff3e6;
    }
    #goalTableSection {
      background: #e6ffe6;
    }
    label {
      display: inline-block;
      width: 150px;
      margin-bottom: 0.5rem;
    }
    input, select, button {
      padding: 0.5rem;
      margin: 0.3rem 0;
      border-radius: 5px;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem;
      text-align: center;
    }
    .low-progress {
      background-color: #ffcccc;
    }
    .medium-progress {
      background-color: #fff3cd;
    }
    .high-progress {
      background-color: #d4edda;
    }
  </style>
</head>
<body>  <h2>ðŸŒŸ Goal & Habit Tracker</h2>  <section id="progressForm">
    <h3>ðŸ“† Daily Entry</h3>
    <form id="entryForm">
      <label for="entryGoal">Select Goal:</label>
      <select id="entryGoal" required></select><br/>
      <label for="entryValue">Progress:</label>
      <input type="text" id="entryValue" required />
      <button type="submit">âž• Add Progress</button>
    </form>
  </section>  <section id="goalForm">
    <h3>ðŸŽ¯ Add New Goal / Habit</h3>
    <form id="newGoalForm">
      <label for="goalName">Goal Name:</label>
      <input type="text" id="goalName" required /><br/>
      <label for="targetAmount">Target Amount:</label>
      <input type="number" id="targetAmount" /><br/>
      <label for="unit">Unit (hrs, kg, yes/no):</label>
      <input type="text" id="unit" /><br/>
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" /><br/>
      <label for="endDate">Target End Date:</label>
      <input type="date" id="endDate" /><br/>
      <button type="submit">ðŸ’¾ Save Goal</button>
    </form>
  </section>  <section id="goalTableSection">
    <h3>ðŸ“Š Overview & Progress</h3>
    <table id="goalTable">
      <thead>
        <tr>
          <th>Goal</th>
          <th>Unit</th>
          <th>Target</th>
          <th>Progress</th>
          <th>% Complete</th>
          <th>Days Remaining</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>  <script>
    let goals = JSON.parse(localStorage.getItem('goals') || '{}');
    let progress = JSON.parse(localStorage.getItem('progress') || '[]');

    function updateGoalDropdown() {
      const dropdown = document.getElementById('entryGoal');
      dropdown.innerHTML = '';
      for (let key in goals) {
        let option = document.createElement('option');
        option.value = key;
        option.textContent = key;
        dropdown.appendChild(option);
      }
    }

    function updateTable() {
      const tbody = document.querySelector('#goalTable tbody');
      tbody.innerHTML = '';
      for (let name in goals) {
        const total = progress
          .filter(p => p.goal === name)
          .reduce((acc, cur) => acc + parseFloat(cur.value), 0);
        const goal = goals[name];
        const percent = goal.targetAmount ? Math.min(100, ((total / goal.targetAmount) * 100).toFixed(1)) : 'NA';
        const end = goal.endDate ? new Date(goal.endDate) : null;
        const daysLeft = end ? Math.ceil((end - new Date()) / (1000 * 60 * 60 * 24)) : 'NA';

        const tr = document.createElement('tr');
        tr.className = percent === 'NA' ? '' : percent < 50 ? 'low-progress' : percent < 80 ? 'medium-progress' : 'high-progress';

        tr.innerHTML = `
          <td>${name}</td>
          <td>${goal.unit}</td>
          <td>${goal.targetAmount || '-'}</td>
          <td>${total}</td>
          <td>${percent}%</td>
          <td>${daysLeft}</td>
          <td>${percent === 'NA' ? '-' : percent < 50 ? 'ðŸ”´' : percent < 80 ? 'ðŸŸ¡' : 'ðŸŸ¢'}</td>
        `;
        tbody.appendChild(tr);
      }
    }

    document.getElementById('newGoalForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('goalName').value;
      const target = document.getElementById('targetAmount').value;
      const unit = document.getElementById('unit').value;
      const start = document.getElementById('startDate').value;
      const end = document.getElementById('endDate').value;

      goals[name] = { targetAmount: parseFloat(target), unit, startDate: start, endDate: end };
      localStorage.setItem('goals', JSON.stringify(goals));
      updateGoalDropdown();
      updateTable();
      e.target.reset();
    });

    document.getElementById('entryForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const goal = document.getElementById('entryGoal').value;
      const value = document.getElementById('entryValue').value;
      const time = new Date().toLocaleString();

      progress.push({ goal, value, time });
      localStorage.setItem('progress', JSON.stringify(progress));
      updateTable();
      e.target.reset();
    });

    updateGoalDropdown();
    updateTable();
  </script></body>
</html>
